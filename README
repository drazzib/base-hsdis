The following files are shim added to the 'bastard'
disassembler to implement a plugin API found in some JVMs:

  base-hsdis.c
  top-config.patch (patch for top-level config file)
  Makefile.in (output from autoconf)
  Makefile.am (input to automake)
  README (this file)

The disassembler project is http://bastard.sourceforge.net/, downloaded via:
  http://downloads.sourceforge.net/bastard/libdisasm-0.23.tar.gz

To build:
  0. Download and unpack the both projects together:
     $ mkdir sandbox; cd sandbox
     $ mv ../hsdis .
     $ tar -xzf - < ../libdisasm-0.23.tar.gz
     $ mv libdisasm-0.23/* .; rmdir libdisasm-0.23
  1. Tweak configure.ac to instroduce the new directory:
     $ patch -p1 < hsdis/top-config.patch
  2. Regenerate configuration data and makefiles:
     $ autoconf && automake && ./configure
  3. Run "make" (at least in libdisasm and hsdis):
     $ make
  4. Install the hsdis binary next to your libjvm.so:
     $ JDK7=/usr/jdk/instances/jre1.7.0
     $ sudo cp -p hsdis/.libs/hsdis.so $JDK7/lib/i386/client/libhsdis-i386.so
     $ sudo cp -p hsdis/.libs/hsdis.so $JDK7/lib/i386/server/libhsdis-i386.so
  5. Enjoy your disassembler:
     $ XJAVA="$JDK7/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly"
     $ $XJAVA -Xcomp -cp ~/Classes hello
     $ $XJAVA -Xcomp -cp ~/Classes -XX:PrintAssemblyOptions=hsdis-print-bytes hello
     $ $XJAVA -XX:-PrintAssembly -XX:+PrintStubCode
     $ $XJAVA -XX:-PrintAssembly -XX:+PrintInterpreter
     $ $XJAVA -XX:-PrintAssembly -XX:+PrintSignatureHandlers

Copyright (C) 2008 John R. Rose.  This package may be used for any
purpose, provided that this copyright notice is preserved intact.

THIS PACKAGE IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
